<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script src="./js/lib/axios.js"></script>
    <script src="./js/lib/vue.js"></script>
    <script src="./js/lib/jq3.6.js"></script>
    <link rel="stylesheet" href="./css/bootstrap.3.4.1min.css">
    <script src="./js/bootstrap3.4.1.min.js"></script>
</head>
<body>
<div class="modal fade" id="agreement-tips" tabindex="-1" role="dialog" aria-labelledby="agreement-tips-title"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content" id="modal-content-id">
            <div class="modal-body">
                1. 该系统自带了防止负能量信息传出的屏障,但不完全保证无漏洞,在未知情况下使用该系统传播负能量言论/信息/谣言 而造成的 法律责任 该系统概不负责
                <br>
                2. 若该系统侵犯了您的版权/权益 请速度联系作者 将尽快处理
                <br>
                3. 该系统不会通过任何方式主动或强迫对您收费
                <br>
                4. 一切收费都在您的同意之下进行,即当您通过任何方式支付时即视为同意
                <br>
                5. 在您与该系统达成交易之后,所有费用改不退还
                <br>
                6. 在为确认对方身份的情况下造成的钱财损失该系统概不负责
                <br>
                7. 该系统为您提供免费的服务,且不会对您进行任何强制性的收费,若该系统因您而受到了 严重影响/严重损坏 您有责任对其系统负责
                <br>
                8. 由该系统引起的个人或群体纠纷或因其造成的财产损失,法律责任,该系统概不负责
                <br>
                9. 使用该系统默认视为同意该协议
                <br>
                --- 最后修改时间 2022/1/21
            </div>
            <div class="modal-footer">
                <button type="button" data-dismiss="modal" aria-label="Close" class="close btn btn-primary">收到</button>
            </div>
        </div>
    </div>
</div>
<center><h1 style="background: rgba(254,253,255,0.3);margin-top: 15px" id="tit"></h1></center>
<div class="row page-header-fixed">
    <div class="col-sm-1"></div>
    <div class="col-sm-10">
        <form id="f1">
            <div class="form-group">
                <label>名字</label>
                <input :value="en.name" class="form-control" placeholder="名字">
            </div>
            <div class="form-group">
                <label>描述</label>
                <input :value="en.desc" class="form-control" placeholder="描述">
            </div>
            <div class="form-group">
                <label>状态</label>
                <input :value="en.state" class="form-control" placeholder="状态">
            </div>
            <div class="form-group">
                <label>地址</label>
                <input :value="en.address" class="form-control" placeholder="地址" id="address_in"/>
                <input :value="'测试'+en.name" class="btn" type="button" v-on:click="req()"/>
            </div>
            <div class="form-group">
                <label>详情</label>
                <textarea v-text="en.detail" class="form-control" placeholder="详情">
                </textarea>
            </div>
            <div class="form-group">
                <label>返回示例</label>
                <textarea id="simp" class="form-control" placeholder="示例">
                </textarea>
            </div>
        </form>
    </div>
    <div class="col-sm-1"></div>
</div>
<script>
    let id = location.href;
    id = id.substr(id.indexOf("=") + 1);
    let vm1 = new Vue({
        el: "#f1",
        created: function () {
            let data1 = new FormData();
            data1.set("id", id)
            axios.post("/apid", data1).then(function (response) {
                vm1.en = response.data;
                vm1.init_();
            }).catch(function (err) {
                alert(err);
            })
        }, data: {
            en: {}
        }, methods: {
            req: function () {
                let e = document.getElementById("address_in");
                let address = e.value;
                axios.get(address).then(function (response) {
                    let m1 = JSON.stringify(response.data, null, 2);
                    $("#simp").text("参数 :" + address + "\n返回:\n" + m1)
                    let o = $("#simp")[0]
                    o.style.height = o.scrollTop + o.scrollHeight + "px";
                }).catch(function (err) {
                    alert(err);
                })
            },
            init_: function () {
                $("title").text(vm1.en.name);
                $("#tit").text(vm1.en.name);
                let urlStr = vm1.en.simpleUrl;
                let vm2 = new Vue({
                    el: "#simp",
                    created: function () {
                        axios.get(urlStr).then(function (response) {
                            let m1 = JSON.stringify(response.data, null, 2);
                            $("#simp").text("参数 :" + urlStr + "\n返回:\n" + m1)
                            let o = $("#simp")[0]
                            o.style.height = o.scrollTop + o.scrollHeight + "px";
                        }).catch(function (err) {
                            alert(err);
                        })
                    }, data: {}, methods: {}
                });
            }
        }
    });

</script>
</body>
</html>